<!DOCTYPE HTML>

<html>
    <head>
        <title>Laptop Ninja</title>
        <style>
            body {
                margin: 0
            }
        </style>
    </head>
    <body>


        <video id="video" playsinline style="display:none">
            </video>
        
        <canvas id="buffer" style="display: none"></canvas>


        <script
            src="https://code.jquery.com/jquery-3.4.1.min.js"
            integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
            crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/p5@0.10.2/lib/p5.js"></script>
        <script src="main.js"></script>

        <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
        <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/posenet"></script>
        <script src="game.js"></script>

        <script>
                const worker_function = () => {
        
                    onmessage =  () => {
                        console.log('from web worker')
                            this.window = this
                            importScripts('https://cdn.jsdelivr.net/npm/setimmediate@1.0.5/setImmediate.min.js')
                            importScripts('https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@0.10.3')
                            tf.setBackend('cpu')
                            
                            const res = tf.zeros([1, 2]).add(tf.ones([1, 2]))
                            res.print()
                            
                            postMessage({res: res.dataSync(), shape: res.shape})
                    };
                }
                if (window != self)
                    worker_function();
        </script>
        <script src="pose.js"></script>
    </body>
</html>
